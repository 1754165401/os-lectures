\input{../preamble}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\title[第3讲]{第3讲 中断、异常和系统调用} % The short title appears at the bottom of every slide, the full title is only on the title page
\subtitle{第二节：硬件架构支持}
\author{向勇、陈渝} % Your name
\institute[清华大学] % Your institution as it will appear on the bottom of every slide, may be shorthand to save space
{
清华大学计算机系 \\ % Your institution for the title page
\medskip
\textit{xyong,yuchen@tsinghua.edu.cn} % Your email address
}
\date{\today} % Date, can be changed to a custom date

\begin{document}

\begin{frame}
\titlepage % Print the title page as the first slide
\end{frame}

%----------------------------------------------------------------------------------------
%\begin{frame}
%\frametitle{提纲} % Table of contents slide, comment this block out to remove it
%\tableofcontents % Throughout your presentation, if you choose to use \section{} and \subsection{} commands, these will automatically be printed on this slide as an overview of your presentation
%\end{frame}

%----------------------------------------------------------------------------------------
%	PRESENTATION SLIDES
%----------------------------------------------------------------------------------------
%------------------------------------------------
\section{第二节：硬件架构支持}% Sections can be created in order to organize your presentation into discrete blocks, all sections and subsections are automatically printed in the table of contents as an overview of the talk
%------------------------------------------------

%\subsection{背景} % A subsection can be created just before a set of slides with a common theme to further break down your presentation into chunks
%------------------------------------------------

%------------------------------------------------
\begin{frame}[plain]
	\frametitle{硬件架构支持}
	%	\framesubtitle{xxxx}
	\begin{columns}
		
		\begin{column}{0.4\textwidth}
			\centering
			\includegraphics[width=1.0\linewidth]{os-4-intr-syscall-except}
			\begin{itemize} \small
				\item Core Local	Interruptor (CLINT)
				\item Platform-Level Interrupt Controller (PLIC)
			\end{itemize}
			
		\end{column}
		
		\begin{column}{0.6\textwidth}
			
			\centering
			\includegraphics[width=1.0\linewidth]{fu540-intr-arch}	
			
			%			\begin{itemize}
			%				\item 在 RISC-V中,ebreak指令或其他错误可向运行时环境发出异常请求
			%			\end{itemize}		
			
		\end{column}
		
	\end{columns}
	
\end{frame}


%------------------------------------------------
\begin{frame}[plain]
	\frametitle{硬件架构支持}
	%	\framesubtitle{xxxx}
	\begin{columns}
		
		\begin{column}{0.45\textwidth}
			\centering
			\includegraphics[width=1.0\linewidth]{os-4-intr-syscall-except}
			\begin{itemize} \small
				\item Core Local	Interruptor (CLINT)
				\item Platform-Level Interrupt Controller (PLIC)
			\end{itemize}
			
		\end{column}
		
		\begin{column}{0.5\textwidth}
			
%			\centering
			\includegraphics[width=0.6\linewidth]{fu540-intr-arch}	
			
			三种标准的中断源:
			\begin{itemize}
				\item 软件中断通过向内存映射寄存器中存数来触发，如 IPI \pause
				\item 时钟中断,如 stimecmp > stime  \pause
				\item 由平台级中断控制器引发外部中断
			\end{itemize}		
			
		\end{column}
		
	\end{columns}
	
\end{frame}



%------------------------------------------------
\begin{frame}[plain,t]
	\frametitle{中断处理机制}
	%	\framesubtitle{xxxx}
	\begin{columns}
		
		\begin{column}{0.45\textwidth}
			\centering
			\includegraphics[width=1.0\linewidth]{os-4-intr-syscall-except}
			\begin{itemize} \small
				\item Core Local	Interruptor (CLINT)
				\item Platform-Level Interrupt Controller (PLIC)
			\end{itemize}
			
		\end{column}
		
		\begin{column}{0.5\textwidth}
			
			%			\centering
			\includegraphics[width=0.6\linewidth]{fu540-intr-arch}	
			
			建立中断机制
			\begin{itemize}
				\item 让CPU能响应中断 \pause
					\begin{itemize}
						\item sstatus:保存全局中断使能位	 \pause
						\item sie:指出CPU目前能处理或忽略的中断 \pause
					\end{itemize}		
			\end{itemize}		
			
		\end{column}
		
	\end{columns}
	
\end{frame}


%----------------------------------------------------------------------------------------

\end{document}
