## 教学日历（教学大纲）（48学时）

课程组织与基本目的：

操作系统是计算机系统中负责管理各种软硬件资源的核心系统软件，掌握操作系统的基本原理及其设计实现技术是研究型大学计算机专业本科毕业生的基本要求。

本课程是计算机专业核心课，从计算机系统的视角进行内容组织与调整，以教学操作系统rcore和risc-v CPU为实验环境，讲授操作系统的概念、基本原理和实现技术，并介绍部分当前操作系统研究热点和论文，帮助学生了解和掌握大型复杂系统软件的分析方法和核心设计思路，并为学生充分利用操作系统功能进行应用软件研究和开发打下扎实的基础。

下面的每一讲是两个课时

# 第1讲 操作系统概述  

## 1.1 课程概述 

## 1.2 教学安排 

## 1.3 什么是操作系统

## 1.4 为什么/如何 学习操作系统 

## 1.5 操作系统实例

## 1.6 操作系统的演变

## 1.7 操作系统结构

## 1.8 OS实验概述(目标,内容) 

# 第2讲 操作系统与系统结构和程序设计语言 

## 2.1 计算机系统 for OS （隔离，特权级，中断，I/O）

## 2.2 系统启动流程

## 2.3 多特权级切换

## 2.4 编程语言 for OS （Go/Rust）

# 第3讲 中断、异常和系统调用 

## 3.1 中断、异常和系统调用概述

## 3.2 RISC-V 的异常

## 3.3 RISC-V 的系统调用

## 3.4 RISC-V 的中断

## 3.5 中断、异常、系统调用示例 (各种小例子)


# 第四讲 物理内存管理 ：连续内存分配

## 4.1 计算机体系结构和内存层次概述

## 4.2 连续内存分配

## 4.3 碎片整理

## 4.4 伙伴系统 & 其他（slab, region,etc）分配算法与实现

# 第五讲 物理内存管理: 非连续内存分配 

## 5.1 非连续内存分配概述

## 5.2 页式与段式存储管理 

## 5.3 多级页表

## 5.4 反置页表

## 5.5 段页式存储管理

## 5.6

## 5.7 RISC-V的页表机制

# 第6讲 虚拟存储概念

## 6
## 6.5 局部性原理

## 6.6 自映射机制## 6.7 覆盖和交换(option)

## 6.4 虚拟页式存储

## 6.5 缺页异常

## 6.6 RISC-V的缺页异常

# 第7讲 虚拟存储：局部页面置换算法

## 页面置换算法的概念

## 最优/最近/最坏/先进先出/最近最久未使用 算法

## 时钟置换算法和最不常用算法

## Belady现象和局部置换算法比较




# 第8讲 虚拟存储：全局页面置换算法

## 工作集置换算法

## 缺页率置换算法

## 抖动和负载控制

## 支持虚拟存储的页访问异常&页换入换出机制

## 全局置换算法（cy new）


# 第9讲 进程与线程

## 进程的概念

##  进程控制块

##  进程状态

##  三状态进程模型

##  挂起进程模型

##  线程的概念

##  用户线程

##  内核线程

# 第10讲 进程和线程控制 (可能new)

##  进程切换

## RISC-V下的进程切换（new）

## 进程创建

## 进程复制

## 进程加载

## 进程等待与退出

## 内存管理的copy-on-write机制 (option)

## spawn

# 第11讲 单处理机调度

## 处理机调度概念

## 调度准则

## 先来先服务、短进程优先和最高响应比优先调度算法

## 时间片轮转、多级反馈队列、公平共享调度算法和Stride调度算法

##  实时调度

## 优先级反置


# 第12讲 多处理机调度 （new）

## 多处理启动(RISC-V, IPI, CACHEs)

## 多处理调度算法 （14年ppt）
### 
###


# 第13讲 同步互斥

## 背景

## 现实生活中的同步问题

## 临界区和禁用硬件中断同步方法

## 基于软件的同步方法

## 高级抽象的同步方法


# 第14讲 信号量与管程

## 信号量

## 信号量使用

##  管程

##  哲学家就餐问题

## 读者-写者问题

## Rust语言中的同步机制


# 第15讲 死锁和并发控制

## 死锁概念

##  死锁处理方法

##  银行家算法

##  死锁检测 



# 第16讲 进程通信 （14年ppt）


##  进程通信概念

##  信号

## 管道

##  消息队列

## 共享内存




# 第17讲 文件系统概念

## 文件系统和文件 

## 文件描述符 

## 目录、文件别名和文件系统种类

##  虚拟文件系统 

## 文件缓存和打开文件 

## 文件分配 

##  空闲空间管理

# 第18讲 文件系统实现 （14年ppt）

## 文件系统设计与实现 VFS SFS（interface）

## 日志文件系统(xv6 jfs)

## ZFS文件系统 （）

# 第19讲 I/O

## I/O特点

## I/O缓存

## I/O 调度（disk调度）

## Drv

# 第20讲 异步编程和异步I/O

# 第21讲 虚拟化 

## CPU虚拟化
## 内存虚拟化
## I/O虚拟化

# 第22讲 内核与程序设计语言

## 历史
## C/C++ OS
## Go OS
## Rust OS
